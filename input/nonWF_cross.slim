
// set up a nonWF simulation (i have no conceptual understanding of what's going on here)
initialize() {
	initializeSLiMModelType("nonWF");
	defineConstant("K", 2000);	// set carrying capacity (ignoring this?)
	
	// neutral mutations, which are allowed to fix
	initializeMutationType("m1", 0.5, "f", 0.0);
	m1.convertToSubstitution = T;
	
	initializeGenomicElementType("g1", m1, 1.0);
	initializeGenomicElement(g1, 0, 99999);
	initializeMutationRate(2.5e-9);
	initializeRecombinationRate(4e-8);
	initializeSex("A");
	initializeTreeSeq();
}

// each individual reproduces itself once
reproduction() {
	subpop.addCrossed(individual, subpop.sampleIndividuals(1));
}

// load in the individuals from the euro sim
1 late() {
	
	// read in the tree sequences generated in the WF euro sim
	sim.readFromPopulationFile("C://Users/aangu/Documents/Obbard_proj/output/euro_trees.trees");
	
}

late() {
inds = p1.individuals;
catn(sim.cycle + ": " + size(inds));

}

1000 late() { 

	// generate a full output
	sim.outputFull();
	
	// save the trees generated by the cross
	// sim.treeSeqOutput("C://Users/aangu/Documents/Obbard_proj/output/cross_out.trees"); 

}
